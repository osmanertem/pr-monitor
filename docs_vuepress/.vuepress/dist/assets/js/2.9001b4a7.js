(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{154:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){var r="undefined"!=typeof global&&global||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(163),t.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof global&&global.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof global&&global.clearImmediate||this&&this.clearImmediate},159:function(e,t,n){"use strict";var r=n(2),i=n(12),a=n(15),o=n(66),s=n(64),l=n(5),c=n(86).f,u=n(85).f,d=n(7).f,p=n(160).trim,h=r.Number,f=h,g=h.prototype,m="Number"==a(n(65)(g)),v="trim"in String.prototype,_=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,a=(t=v?t.trim():p(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var o,l=t.slice(2),c=0,u=l.length;c<u;c++)if((o=l.charCodeAt(c))<48||o>i)return NaN;return parseInt(l,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(m?l(function(){g.valueOf.call(n)}):"Number"!=a(n))?o(new f(_(t)),n,h):_(t)};for(var b,y=n(6)?c(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;y.length>S;S++)i(f,b=y[S])&&!i(h,b)&&d(h,b,u(f,b));h.prototype=g,g.constructor=h,n(10)(r,"Number",h)}},160:function(e,t,n){var r=n(9),i=n(16),a=n(5),o=n(161),s="["+o+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(e,t,n){var i={},s=a(function(){return!!o[e]()||"​"!="​"[e]()}),l=i[e]=s?t(d):o[e];n&&(i[n]=l),r(r.P+r.F*s,"String",i)},d=u.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},161:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},162:function(e,t,n){"use strict";var r=n(154);n.n(r).a},163:function(e,t){!function(e,t){"use strict";if(!e.setImmediate){var n,r,i,a,o,s=1,l={},c=!1,u=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?n=function(e){process.nextTick(function(){h(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){i.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(r=u.documentElement,n=function(e){var t=u.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):n=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",o=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),n=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return l[s]=i,n(s),s++},d.clearImmediate=p}function p(e){delete l[e]}function h(e){if(c)setTimeout(h,0,e);else{var n=l[e];if(n){c=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{p(e),c=!1}}}}}("undefined"==typeof self?"undefined"==typeof global?this:global:self)},164:function(e,t,n){"use strict";var r=n(155);n.n(r).a},165:function(e,t,n){"use strict";var r=n(156);n.n(r).a},167:function(e,t,n){"use strict";n.r(t);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}n(47),n(8);var a=n(20),o=(n(159),[{login:"acsly",name:"Ahmet Can",role:"SW"},{login:"ahmetceylan",name:"Ahmet Ceylan",role:"SW"},{login:"AlicanBayir",name:"Alican",role:"SW"},{login:"alpaykuru",name:"Alpay",role:"SW"},{login:"aylino",name:"Gökçe",role:"QA"},{login:"brendtumi",name:"Tümay",role:"SW"},{login:"efegure",name:"Efe",role:"SW"},{login:"ercang",name:"Ercan",role:"SW"},{login:"esracaglar",name:"Esra",role:"QA"},{login:"hakansakalli",name:"Hakan Sakallı",role:"QA"},{login:"iremdamla",name:"İrem",role:"QA"},{login:"legionairre",name:"Güçlü",role:"SW"},{login:"mchtctn",name:"Mücahit",role:"QA"},{login:"mkapi",name:"Metin",role:"SW"},{login:"mylmz10",name:"Muammer",role:"SW"},{login:"osmanertem",name:"Osman",role:"SW"},{login:"ozanbatuhanceylan",name:"Ozan",role:"SW"},{login:"oznurbayram",name:"Öznur",role:"SW"},{login:"saricaahmet",name:"Ahmet Sarıca",role:"SW"},{login:"Serhatkemal",name:"Serhat",role:"SW"},{login:"temelt",name:"Taner",role:"SW"},{login:"theutku",name:"Utku",role:"SW"},{login:"volkanakbayir",name:"Volkan",role:"SW"},{login:"wwdd1",name:"Mehmet",role:"SW"},{login:"yasinvural",name:"Yasin",role:"SW"},{login:"yerol",name:"Yiğit",role:"SW"},{login:"zhunor",name:"Orhun",role:"SW"}]),s=2;function l(e){for(var t=0;t<o.length;t++)if(o[t].login===e)return o[t];return{login:e,name:e,role:"SW"}}function c(e){return e.length>=s}var u={name:"PRRow",props:{prData:Object,index:Number},mounted:function(){},updated:function(){},computed:i({},Object(a.b)(["reviewersByPrID","prList","config"]),{isReadyToBeMerged:function(){return this.hasAllCheckersPassed&&this.didPRGetRequiredApproves&&this.prData.mergeable&&"clean"===this.prData.mergeable_state},hasAllCheckersPassed:function(){var e=!0;return this.prData.checkerStatuses&&this.prData.checkerStatuses.forEach(function(t){e&="success"===t.state}),e},approverList:function(){var e=this.prData.number+"";if(!this.reviewersByPrID[e])return[];var t=[];for(var n in this.reviewersByPrID[e])"APPROVED"===this.reviewersByPrID[e][n].state&&t.push({login:this.reviewersByPrID[e][n].user.login,name:l(this.reviewersByPrID[e][n].user.login).name});return t},didIApprove:function(){var e=this;return this.approverList.filter(function(t){return t.login===e.config.githubConfig.username}).length>0},didPRGetRequiredApproves:function(){return c(this.approverList)},owner:function(){return l(this.prData.user.login)}}),methods:{getApproversOfAPr:function(e){if(!this.reviewersByPrID[e])return[];var t=[];for(var n in this.reviewersByPrID[e])"APPROVED"===n.state&&t.push(n);return t}}},d=(n(162),n(0)),p=Object(d.a)(u,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"pr-row",class:{"has-enough-approvers":e.isReadyToBeMerged,"dont-have-enough-approvers":!e.isReadyToBeMerged}},[n("td",[n("a",{attrs:{href:"https://github.com/"+e.config.githubConfig.owner+"/"+e.config.githubConfig.repo+"/pull/"+e.prData.number,target:"_blank"}},[e._v(e._s(e.prData.number))])]),e._v(" "),n("td",[e._v(e._s(e.owner.role))]),e._v(" "),n("td",{class:{blink_me:e.isReadyToBeMerged}},[e._v(e._s(e.isReadyToBeMerged?"✅":"❌"))]),e._v(" "),n("td",{attrs:{title:e.prData.user.login}},[e._v(e._s(e.owner.name))]),e._v(" "),n("td",[n("a",{attrs:{href:"https://github.com/"+e.config.githubConfig.owner+"/"+e.config.githubConfig.repo+"/pull/"+e.prData.number,target:"_blank"}},[e._v(e._s(e.prData.title))])]),e._v(" "),n("td",[e.didIApprove?e._e():n("span",{staticClass:"blink_me",attrs:{title:"I did not approve yet"}},[e._v("❗️")]),e._v(" "),e._l(e.approverList,function(t,r){return n("span",{key:t.login,attrs:{title:t.login}},[e._v(e._s(t.name+(e.approverList.length-1===r?"":", ")))])})],2),e._v(" "),n("td",{staticStyle:{"padding-top":"5px"}},[n("table",{staticStyle:{"border-width":"0px"}},[n("tr",{staticStyle:{border:"1px none #dfe2e5"}},[e._l(e.prData.checkerStatuses,function(t,r){return[n("td",{key:r+"_avatar",class:{blink_me:"success"!==t.state},staticStyle:{padding:"0px","padding-left":"5px","padding-top":"10px",width:"20px",display:"inline-block",border:"1px none #dfe2e5"}},[n("a",{key:r+"_url",attrs:{href:t.target_url,target:"_blank",title:t.context+": "+t.description}},[n("img",{staticStyle:{display:"block"},attrs:{height:"20",src:t.avatar_url}})])]),e._v(" "),n("td",{key:r+"_status",class:{blink_me:"success"!==t.state},staticStyle:{padding:"0px","padding-top":"10px",height:"26px","padding-right":"5px",border:"1px none #dfe2e5"}},[n("span",{staticStyle:{"font-size":"10px"}},[e._v(e._s("success"===t.state?"✅":"❌"))])])]})],2)])]),e._v(" "),n("td",[e._v(e._s(e.prData.mergeable&&"clean"===e.prData.mergeable_state?"✅":e.prData.mergeable_state))]),e._v(" "),n("td",[e._v(e._s(e.didPRGetRequiredApproves?"✅":"❌"))])])},[],!1,null,null,null).exports,h=n(157),f={name:"MonitorTable",props:["hideQA","hideSW"],data:function(){return{windowTitle:"pr-monitor"}},updated:function(){this.windowTitle="("+this.filteredPrList.length+")"+(this.isThereAnyReadyPR?"Ⓜ️":"")+(this.isMyReviewNeeded?"❗️ ":"")+"pr-monitor"},mounted:function(){var e=this;Object(h.setInterval)(function(){"pr-monitor"==document.title?document.title=e.windowTitle:document.title="pr-monitor"},1e3)},computed:i({},Object(a.b)(["reviewersByPrID","prList","config"]),{filteredPrList:function(){var e=this;return this.prList.filter(function(t){var n=l(t.user.login);return!("SW"===n.role&&e.hideSW||"QA"===n.role&&e.hideQA)})},isMyReviewNeeded:function(){var e=this,t=!1;return this.filteredPrList.forEach(function(n){e.didIApprove(n)||(t=!0)}),t},isThereAnyReadyPR:function(){var e=this,t=!1;return this.filteredPrList.forEach(function(n){e.hasAllCheckersPassed(n)&&e.didPRGetRequiredApproves(n)&&n.mergeable&&"clean"===n.mergeable_state&&(t=!0)}),t}}),methods:{didPRGetRequiredApproves:function(e){var t=this.getApproverList(e);return!!t&&c(t)},hasAllCheckersPassed:function(e){var t=!0;return e.checkerStatuses&&e.checkerStatuses.forEach(function(e){t=t&&"success"===e.state}),t},didIApprove:function(e){var t=this,n=this.getApproverList(e);return!!n&&n.filter(function(e){return e.login===t.config.githubConfig.username}).length>0},getApproverList:function(e){var t=e.number+"";if(!this.reviewersByPrID[t])return[];var n=[];for(var r in this.reviewersByPrID[t])"APPROVED"===this.reviewersByPrID[t][r].state&&n.push({login:this.reviewersByPrID[t][r].user.login,name:l(this.reviewersByPrID[t][r].user.login).name});return n}},components:{PRRow:p}},g=(n(164),{name:"app",data:function(){return{titleInterval:void 0,hideQA:"true"===localStorage.hideQA,hideSW:"true"===localStorage.hideSW}},components:{MonitorTable:Object(d.a)(f,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",{staticClass:"the-table",attrs:{border:"1"}},[e._m(0),e._v(" "),n("tbody",e._l(e.filteredPrList,function(t,r){return n("PRRow",{key:r,attrs:{prData:t,index:r,hideQA:e.hideQA,hideSW:e.hideSW}})}),1)])])},[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("th",[e._v("#")]),e._v(" "),n("th",[e._v("\n        QA\n        "),n("br"),e._v("SW\n      ")]),e._v(" "),n("th",{attrs:{title:"Ready to be merged. All checkers succeeded and has enough approvers"}},[e._v("Ready")]),e._v(" "),n("th",[e._v("Owner")]),e._v(" "),n("th",[e._v("Title")]),e._v(" "),n("th",[e._v("Approvers")]),e._v(" "),n("th",[e._v("Checkers")]),e._v(" "),n("th",[e._v("Mergeable")]),e._v(" "),n("th",[e._v("\n        Has Enough\n        "),n("br"),e._v("Approvers\n      ")])])}],!1,null,null,null).exports},mounted:function(){var e=this;Object(h.setInterval)(function(){e.$store.dispatch("fetchPRList")},parseInt(this.config.pageReloadInMs))},computed:i({},Object(a.b)(["config"])),methods:{onAccessTokenChanged:function(e){var t=JSON.parse(localStorage.config);t.githubConfig.apiAccessToken=e.srcElement.value,localStorage.config=JSON.stringify(t),location.reload()},onGithubOwnerChange:function(e){var t=JSON.parse(localStorage.config);t.githubConfig.owner=e.srcElement.value,localStorage.config=JSON.stringify(t),location.reload()},onGithubRepoChange:function(e){var t=JSON.parse(localStorage.config);t.githubConfig.repo=e.srcElement.value,localStorage.config=JSON.stringify(t),location.reload()},onGithubUsernameChange:function(e){var t=JSON.parse(localStorage.config);t.githubConfig.username=e.srcElement.value,localStorage.config=JSON.stringify(t),location.reload()},onPageReloadChanged:function(e){var t=JSON.parse(localStorage.config);t.pageReloadInMs=1e3*parseInt(e.srcElement.value),localStorage.config=JSON.stringify(t),location.reload()}},watch:{hideQA:function(){console.log(this.hideQA),localStorage.hideQA=this.hideQA},hideSW:function(){localStorage.hideSW=this.hideSW}}}),m=(n(165),{name:"AbsoluteLayoutDoc",components:{App:Object(d.a)(g,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h2",[e._v("PR Monitor")]),e._v(" "),n("p",[n("span",[e._v("https://github.com/")]),e._v(" "),n("input",{attrs:{type:"text"},domProps:{value:e.config.githubConfig.owner},on:{change:e.onGithubOwnerChange}}),e._v(" "),n("span",[e._v("/")]),e._v(" "),n("input",{attrs:{type:"text"},domProps:{value:e.config.githubConfig.repo},on:{change:e.onGithubRepoChange}})]),e._v(" "),n("MonitorTable",{attrs:{id:"monitor-table",hideQA:e.hideQA,hideSW:e.hideSW}}),e._v(" "),n("p",[n("span",{staticClass:"config-param-title"},[e._v("Hide QA: ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.hideQA,expression:"hideQA"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.hideQA)?e._i(e.hideQA,null)>-1:e.hideQA},on:{change:function(t){var n=e.hideQA,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=e._i(n,null);r.checked?a<0&&(e.hideQA=n.concat([null])):a>-1&&(e.hideQA=n.slice(0,a).concat(n.slice(a+1)))}else e.hideQA=i}}}),e._v(" "),n("span",{staticClass:"config-param-title"},[e._v("Hide SW: ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.hideSW,expression:"hideSW"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.hideSW)?e._i(e.hideSW,null)>-1:e.hideSW},on:{change:function(t){var n=e.hideSW,r=t.target,i=!!r.checked;if(Array.isArray(n)){var a=e._i(n,null);r.checked?a<0&&(e.hideSW=n.concat([null])):a>-1&&(e.hideSW=n.slice(0,a).concat(n.slice(a+1)))}else e.hideSW=i}}}),e._v(" "),n("span",{staticClass:"config-param-title"},[e._v("username: ")]),e._v(" "),n("input",{attrs:{type:"text"},domProps:{value:e.config.githubConfig.username},on:{change:e.onGithubUsernameChange}}),e._v(" "),n("span",{staticClass:"config-param-title"},[e._v("page reload in sec: ")]),e._v(" "),n("input",{staticStyle:{width:"50px"},attrs:{type:"text"},domProps:{value:parseInt(e.config.pageReloadInMs/1e3)},on:{change:e.onPageReloadChanged}}),e._v(" "),n("span",{staticClass:"config-param-title"},[e._v("access_token: ")]),e._v(" "),n("input",{staticStyle:{width:"300px"},attrs:{type:"text"},domProps:{value:e.config.githubConfig.apiAccessToken},on:{change:e.onAccessTokenChanged}})])],1)},[],!1,null,null,null).exports}}),v=Object(d.a)(m,function(){var e=this.$createElement;return(this._self._c||e)("App")},[],!1,null,null,null);t.default=v.exports}}]);